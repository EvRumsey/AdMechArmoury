<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationSequence">
		<operations>
			<li Class="PatchOperationAdd">
			  <success>Always</success>
				<xpath>/Defs/ThingDef[@ParentName="BenchBase"]/comps/li[@Class="CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
				<value>
					<li>ToolCabinetShelf</li>
				</value>
			</li>
			<li Class="PatchOperationConditional">
				<xpath>/Defs/ThingDef[defName="SimpleResearchBench"]/comps/li[@Class="CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
				<success>Always</success>
				<match Class="PatchOperationInsert">
					<success>Always</success>
					<xpath>/Defs/ThingDef[defName="SimpleResearchBench"]/comps/li[@Class="CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
					<value>
						<li>ToolCabinetShelf</li>
					</value>
				</match>
				<nomatch Class="PatchOperationAdd">
					<success>Always</success>
					<xpath>/Defs/ThingDef[defName="SimpleResearchBench"]</xpath>
					<value>
						<comps>
							<li Class="CompProperties_AffectedByFacilities">
								<linkableFacilities>
									<li>ToolCabinetShelf</li>
								</linkableFacilities>
							</li>
						</comps>
					</value>
				</nomatch>
			</li>
		</operations>	
	</Operation>
	 
<Operation Class="PatchOperationSequence">
  <success>Always</success>
  <operations>
    <li Class="PatchOperationTest">
		<xpath>/Defs/ThingDef[@ParentName="BenchBase"]/comps/li[@Class="CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
			<success>Invert</success>
    </li>
    <li Class="PatchOperationAdd">
		<xpath>/Defs/ThingDef[@ParentName="BenchBase"]/comps/li[@Class="CompProperties_AffectedByFacilities"]/linkableFacilities</xpath>
		<value>
			<li>ToolCabinetShelf</li>
		</value>
    </li>
  </operations>
</Operation>


</Patch>